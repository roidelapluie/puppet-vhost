<VirtualHost <%= ip %>:<%= port %>>

        ServerAdmin <%= serveradmin %>
        ServerName <%= servername %> 

<% serveralias.each do |serveralias|  -%>
	ServerAlias <%= serveralias  %>
<% end -%>

        DocumentRoot <%= documentroot %>
	<Directory <%= documentroot %> >

		Options FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all


	</Directory>
        # Possible values include: debug, info, notice, warn, error, crit,
        # alert, emerg.
        LogLevel warn

        CustomLog <%= baselogdir %>/<%= servername %>/access.log combined
        ErrorLog <%= baselogdir %>/<%= servername %>/error.log
        ServerSignature On

<% if has_variable?('webdav') -%>
		Alias /webdav <%= documentroot %>
		<Location /webdav>
			DAV On
			AuthType Basic
			AuthName "Webdav"
			AuthUserFile <%= documentroot %>/.htpasswd
			Require valid-user
		</Location>
<% end -%>

</VirtualHost>

